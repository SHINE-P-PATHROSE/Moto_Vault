{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
    <title>MotoVault - Vehicle Management</title>
    <style>

    </style>
</head>
<body>
<!-- Side Menu Overlay -->
<div class="menu-overlay" id="menuOverlay"></div>

<!-- Side Menu -->
<nav class="side-menu" id="sideMenu">
    <div class="menu-header">
        <span class="menu-title">Menu</span>
        <button class="close-menu" id="closeMenu">âœ•</button>
    </div>
    <div class="menu-items">
        <button class="menu-item active">General</button>
        <button class="menu-item">Life</button>
        <button class="menu-item">Claims</button>
        <button class="menu-item">Renewals</button>
        <button class="menu-item">Become an Agent</button>
        <button class="menu-item">Resources</button>
        <a href="/logout" class="menu-item">Logout</a>
    </div>
</nav>

<div class="container">
    <!-- Header -->
    <div class="header">
        <button class="menu-btn" id="menuBtn">â˜°</button>
        <div class="logo">
            <div class="shield-icon">
                <img src="{% static 'images/logo.png' %}" alt="MotoVault Logo" class="logo-image">
            </div>
            <span class="logo-text">
            <span class="moto">Moto</span><span class="vault">Vault</span>
        </span>
        </div>
        <div class="user-profile">
            <div class="user-avatar"></div>
            <span>User</span>
        </div>
    </div>

    <!-- Search -->
    <div class="search-container">
        <input type="text" class="search-bar" placeholder="Search vehicles...">
    </div>

    <!-- Tabs -->
    <div class="tabs">
        <button class="tab active">Applied</button>
        <button class="tab">Newly</button>
    </div>

    <!-- Vehicle List -->
    <div class="vehicle-list">
        <!-- Expired Vehicle -->
        <div class="vehicle-card">
            <div class="vehicle-avatar" style="background-image: url('data:image/svg+xml,<svg xmlns=\" http:
            //www.w3.org/2000/svg\" viewBox=\"0 0 100 100\">
            <circle cx=\"50\" cy=\"50\" r=\"40\" fill=\"%23dc2626\"/>
                <text x=\"50\" y=\"60\" font-family=\"Arial\" font-size=\"30\" fill=\"white\" text-anchor=\"middle\">
                    SP
                </text>
                </svg>')">
        </div>
        <div class="vehicle-info">
            <div class="vehicle-name">Shine Pathrose</div>
            <div class="vehicle-details">Parassala, Trivandrum</div>
            <div class="vehicle-id">ðŸš— KL01AX1234</div>
            <div class="action-buttons">
                <button class="btn btn-remove">Remove</button>
                <button class="btn btn-renew">Renew</button>
            </div>
        </div>
        <div class="time-left expired">
            <div class="status-badge status-kerala">Kerala</div>
            <div style="margin-top: 8px;">Expired !</div>
        </div>
        <button class="menu-btn-card">â‹®</button>
    </div>

    <!-- 2 Days Left -->
    <div class="vehicle-card">
        <div class="vehicle-avatar" style="background-image: url('data:image/svg+xml,<svg xmlns=\" http:
        //www.w3.org/2000/svg\" viewBox=\"0 0 100 100\">
        <circle cx=\"50\" cy=\"50\" r=\"40\" fill=\"%23f59e0b\"/>
            <text x=\"50\" y=\"60\" font-family=\"Arial\" font-size=\"30\" fill=\"white\" text-anchor=\"middle\">AR
            </text>
            </svg>')">
    </div>
    <div class="vehicle-info">
        <div class="vehicle-name">Arul Raj</div>
        <div class="vehicle-details">Vettunimadam, Kanyakumari</div>
        <div class="vehicle-id">ðŸš— TN01AV2356</div>
    </div>
    <div class="time-left urgent">
        <div class="status-badge status-tamil-nadu">Tamil Nadu</div>
        <div style="margin-top: 8px;">2 Days Left</div>
    </div>
    <button class="menu-btn-card">â‹®</button>
</div>

<!-- 1 Month Left -->
<div class="vehicle-card">
    <div class="vehicle-avatar" style="background-image: url('data:image/svg+xml,<svg xmlns=\" http:
    //www.w3.org/2000/svg\" viewBox=\"0 0 100 100\">
    <circle cx=\"50\" cy=\"50\" r=\"40\" fill=\"%2316a34a\"/>
        <text x=\"50\" y=\"60\" font-family=\"Arial\" font-size=\"30\" fill=\"white\" text-anchor=\"middle\">AJ</text>
        </svg>')">
</div>
<div class="vehicle-info">
    <div class="vehicle-name">Angelin Jerin</div>
    <div class="vehicle-details">Cheggavelai, Kanyakumari</div>
    <div class="vehicle-id">ðŸš— TN01AV7463</div>
</div>
<div class="time-left">
    <div class="status-badge status-tamil-nadu">Tamil Nadu</div>
    <div style="margin-top: 8px;">1 Month Left</div>
</div>
<button class="menu-btn-card">â‹®</button>
</div>

<!-- 2 Months Left -->
<div class="vehicle-card">
    <div class="vehicle-avatar" style="background-image: url('data:image/svg+xml,<svg xmlns=\" http:
    //www.w3.org/2000/svg\" viewBox=\"0 0 100 100\">
    <circle cx=\"50\" cy=\"50\" r=\"40\" fill=\"%236b7280\"/>
        <text x=\"50\" y=\"60\" font-family=\"Arial\" font-size=\"30\" fill=\"white\" text-anchor=\"middle\">H</text>
        </svg>')">
</div>
<div class="vehicle-info">
    <div class="vehicle-name">Haneef</div>
    <div class="vehicle-details">Cheggavelai, Kanyakumari</div>
    <div class="vehicle-id">ðŸš— TN01AV5395</div>
</div>
<div class="time-left">
    <div class="status-badge status-tamil-nadu">Tamil Nadu</div>
    <div style="margin-top: 8px;">2 Month Left</div>
</div>
<button class="menu-btn-card">â‹®</button>
</div>

<!-- 3 Months Left -->
<div class="vehicle-card">
    <div class="vehicle-avatar" style="background-image: url('data:image/svg+xml,<svg xmlns=\" http:
    //www.w3.org/2000/svg\" viewBox=\"0 0 100 100\">
    <circle cx=\"50\" cy=\"50\" r=\"40\" fill=\"%233b82f6\"/>
        <text x=\"50\" y=\"60\" font-family=\"Arial\" font-size=\"30\" fill=\"white\" text-anchor=\"middle\">A</text>
        </svg>')">
</div>
<div class="vehicle-info">
    <div class="vehicle-name">Ashwin</div>
    <div class="vehicle-details">Tambanoor, Trivandrum</div>
    <div class="vehicle-id">ðŸš— KL01AV8317</div>
</div>
<div class="time-left">
    <div class="status-badge status-kerala">Kerala</div>
    <div style="margin-top: 8px;">3 Month Left</div>
</div>
<button class="menu-btn-card">â‹®</button>
</div>
</div>

<!-- Floating Action Button -->
<button class="fab">+</button>
</div>

<script>
    // Menu functionality
    const menuBtn = document.getElementById('menuBtn');
    const closeMenu = document.getElementById('closeMenu');
    const menuOverlay = document.getElementById('menuOverlay');
    const sideMenu = document.getElementById('sideMenu');

    function openMenu() {
        menuOverlay.classList.add('active');
        sideMenu.classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    function closeMenuFunc() {
        menuOverlay.classList.remove('active');
        sideMenu.classList.remove('active');
        document.body.style.overflow = '';
    }

    menuBtn.addEventListener('click', openMenu);
    closeMenu.addEventListener('click', closeMenuFunc);
    menuOverlay.addEventListener('click', closeMenuFunc);

    // Menu item selection
    document.querySelectorAll('.menu-item').forEach(item => {
        item.addEventListener('click', function() {
            document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));
            this.classList.add('active');
            closeMenuFunc();
        });
    });

    // Tab switching functionality
    document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', function() {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            this.classList.add('active');
        });
    });

    // Search functionality
    const searchBar = document.querySelector('.search-bar');
    const vehicleCards = document.querySelectorAll('.vehicle-card');

    searchBar.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();

        vehicleCards.forEach(card => {
            const name = card.querySelector('.vehicle-name').textContent.toLowerCase();
            const details = card.querySelector('.vehicle-details').textContent.toLowerCase();
            const vehicleId = card.querySelector('.vehicle-id').textContent.toLowerCase();

            if (name.includes(searchTerm) || details.includes(searchTerm) || vehicleId.includes(searchTerm)) {
                card.style.display = 'flex';
            } else {
                card.style.display = 'none';
            }
        });
    });

    // FAB click handler
    document.querySelector('.fab').addEventListener('click', function() {
        alert('Add new vehicle functionality would be implemented here');
    });

    // Menu button handlers
    document.querySelectorAll('.menu-btn-card').forEach(btn => {
        btn.addEventListener('click', function() {
            alert('Vehicle options menu would appear here');
        });
    });

    // Action button handlers
    document.querySelectorAll('.btn-remove').forEach(btn => {
        btn.addEventListener('click', function() {
            if (confirm('Are you sure you want to remove this vehicle?')) {
                this.closest('.vehicle-card').style.animation = 'fadeOut 0.3s ease forwards';
                setTimeout(() => {
                    this.closest('.vehicle-card').remove();
                }, 300);
            }
        });
    });

    document.querySelectorAll('.btn-renew').forEach(btn => {
        btn.addEventListener('click', function() {
            alert('Renewal process would start here');
        });
    });

    // Add fade out animation
    const style = document.createElement('style');
    style.textContent = `
        @keyframes fadeOut {
            to {
                opacity: 0;
                transform: translateX(-100%);
            }
        }
    `;
    document.head.appendChild(style);

    // Close menu on escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closeMenuFunc();
        }
    });
</script>
</body>
</html>